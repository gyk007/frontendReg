webpackJsonp([5],{123:function(t,e,s){"use strict";var n=s(4),o=s(125);e.a={name:"index",store:o.a,components:{QLayout:n.p,QToolbar:n.w,QToolbarTitle:n.x,QBtn:n.a,QIcon:n.j,QList:n.q,QListHeader:n.r,QItem:n.l,QItemSide:n.n,QItemMain:n.m},methods:{sortNews:function(t){this.$store.dispatch("newsList",t),this.$refs.layout.hideLeft()}}}},125:function(t,e,s){"use strict";var n=s(1),o=s(136),r=s(137),a=s(126),i=s(139),u=s.n(i),c=s(0),l=s.n(c),j=s(3);s.n(j);n.a.use(o.a),n.a.use(r.a);var m=new o.a.Store({state:{newsList:void 0,news:void 0,error:void 0,authError:void 0},getters:{newsList:function(t){return t.newsList},news:function(t){return t.news},error:function(t){return t.error},authError:function(t){return t.authError}},mutations:{set:function(t,e){var s=e.type,n=e.items;t[s]=n},addItemToArry:function(t,e){var s=e.type,n=e.item;t[s].push(n)},deleteItemFromArry:function(t,e){var s=e.type,n=e.key,o=e.value,r=t[s].findIndex(function(t){return t[n]==o});t[s].splice(r,1)}},actions:{addDeleteFavorte:function(t,e){var s=(t.state,t.commit),o={params:{token:u.a.get("token"),action:"add_delete_favorite",id_news:e.id},headers:{"Content-Type":"text/plain"}};n.a.http.post(a.a.url.news,null,o).then(function(t){var e=t.body;e.ERROR&&(console.log(e.ERROR),s("set",{type:"authError",items:e.ERROR}),e.ERROR.AUTH&&(document.location.hash="/auth"))},function(t){console.log(t)})},addFirebaseToken:function(t){var e=(t.state,t.commit);window.FirebasePlugin&&window.FirebasePlugin.onTokenRefresh(function(t){window.FirebasePlugin.subscribe("all");var s={params:{action:"add_firebase_token",token:u.a.get("token"),firebase_token:t},headers:{"Content-Type":"text/plain"}};n.a.http.post(a.a.url.manager,null,s).then(function(t){var s=t.body;console.log(s),s.ERROR?(console.log(s.ERROR),e("set",{type:"error",items:s.ERROR}),s.ERROR.AUTH&&(document.location.hash="/auth")):(s.news_list.forEach(function(t){t.ctime&&(t.ctime=l()(t.ctime)),console.log(t)}),e("set",{type:"newsList",items:s.news_list}))},function(t){console.log(t)})},function(t){console.log(t)})},auth:function(t,e){var s=(t.state,t.commit),o=t.dispatch,r={params:{password:e.password,login:e.login},headers:{"Content-Type":"text/plain"}};n.a.http.post(a.a.url.news,null,r).then(function(t){var e=t.body;e.ERROR?(console.log(e.ERROR),s("set",{type:"authError",items:e.ERROR}),e.ERROR.AUTH&&(document.location.hash="/auth")):(u.a.set("token",e.SESSION.token),o("addFirebaseToken"),document.location.hash="/news/")},function(t){console.log(t)})},newsList:function(t,e){var s=(t.state,t.commit),o=t.dispatch;s("set",{type:"newsList",items:void 0});var r={params:{action:"list",token:u.a.get("token"),sort:e||"month"},headers:{"Content-Type":"text/plain"}};n.a.http.get(a.a.url.news,r).then(function(t){var e=t.body;console.log(e),e.ERROR?(console.log(e.ERROR),s("set",{type:"error",items:e.ERROR}),e.ERROR.AUTH&&(document.location.hash="/auth")):(e.news_list.forEach(function(t){t.ctime&&(t.ctime=l()(t.ctime))}),s("set",{type:"newsList",items:e.news_list}),o("addFirebaseToken"),document.location.hash="/news")},function(t){console.log(t)})}}});e.a=m},126:function(t,e,s){"use strict";var n={url:{news:"http://192.168.33.86:9888/mob/news/",manager:"http://192.168.33.86:9888/mob/manager/",img:"http://localhost:9885/news/"}};e.a=n},127:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(1),o=s(4),r=s(133),a=s(144);s.n(a);s(128),n.a.config.productionTip=!1,n.a.use(o.z),s(142),o.z.start(function(){new n.a({el:"#q-app",router:r.a,render:function(t){return t(s(146).default)},beforeCreate:function(){window.FirebasePlugin&&window.FirebasePlugin.getToken(function(t){console.log(t)},function(t){console.error(t)})}})})},128:function(t,e){},133:function(t,e,s){"use strict";function n(t){return function(){return s(135)("./"+t+".vue")}}var o=s(1),r=s(134);o.a.use(r.a),e.a=new r.a({mode:"hash",scrollBehavior:function(){return{y:0}},routes:[{path:"/",redirect:"/news"},{path:"/auth",component:n("PageAuth")},{path:"/news",component:n("PageMain")},{path:"/news/:id",component:n("PageNews")},{path:"*",component:n("Error404")}]})},135:function(t,e,s){function n(t){var e=o[t];return e?s.e(e[1]).then(function(){return s(e[0])}):Promise.reject(new Error("Cannot find module '"+t+"'."))}var o={"./Error404.vue":[151,3],"./PageAuth.vue":[152,2],"./PageMain.vue":[153,1],"./PageNews.vue":[154,0]};n.keys=function(){return Object.keys(o)},n.id=135,t.exports=n},138:function(t,e){},141:function(t,e,s){function n(t){return s(o(t))}function o(t){var e=r[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var r={"./af":5,"./af.js":5,"./ar":6,"./ar-dz":7,"./ar-dz.js":7,"./ar-kw":8,"./ar-kw.js":8,"./ar-ly":9,"./ar-ly.js":9,"./ar-ma":10,"./ar-ma.js":10,"./ar-sa":11,"./ar-sa.js":11,"./ar-tn":12,"./ar-tn.js":12,"./ar.js":6,"./az":13,"./az.js":13,"./be":14,"./be.js":14,"./bg":15,"./bg.js":15,"./bm":16,"./bm.js":16,"./bn":17,"./bn.js":17,"./bo":18,"./bo.js":18,"./br":19,"./br.js":19,"./bs":20,"./bs.js":20,"./ca":21,"./ca.js":21,"./cs":22,"./cs.js":22,"./cv":23,"./cv.js":23,"./cy":24,"./cy.js":24,"./da":25,"./da.js":25,"./de":26,"./de-at":27,"./de-at.js":27,"./de-ch":28,"./de-ch.js":28,"./de.js":26,"./dv":29,"./dv.js":29,"./el":30,"./el.js":30,"./en-au":31,"./en-au.js":31,"./en-ca":32,"./en-ca.js":32,"./en-gb":33,"./en-gb.js":33,"./en-ie":34,"./en-ie.js":34,"./en-nz":35,"./en-nz.js":35,"./eo":36,"./eo.js":36,"./es":37,"./es-do":38,"./es-do.js":38,"./es-us":39,"./es-us.js":39,"./es.js":37,"./et":40,"./et.js":40,"./eu":41,"./eu.js":41,"./fa":42,"./fa.js":42,"./fi":43,"./fi.js":43,"./fo":44,"./fo.js":44,"./fr":45,"./fr-ca":46,"./fr-ca.js":46,"./fr-ch":47,"./fr-ch.js":47,"./fr.js":45,"./fy":48,"./fy.js":48,"./gd":49,"./gd.js":49,"./gl":50,"./gl.js":50,"./gom-latn":51,"./gom-latn.js":51,"./gu":52,"./gu.js":52,"./he":53,"./he.js":53,"./hi":54,"./hi.js":54,"./hr":55,"./hr.js":55,"./hu":56,"./hu.js":56,"./hy-am":57,"./hy-am.js":57,"./id":58,"./id.js":58,"./is":59,"./is.js":59,"./it":60,"./it.js":60,"./ja":61,"./ja.js":61,"./jv":62,"./jv.js":62,"./ka":63,"./ka.js":63,"./kk":64,"./kk.js":64,"./km":65,"./km.js":65,"./kn":66,"./kn.js":66,"./ko":67,"./ko.js":67,"./ky":68,"./ky.js":68,"./lb":69,"./lb.js":69,"./lo":70,"./lo.js":70,"./lt":71,"./lt.js":71,"./lv":72,"./lv.js":72,"./me":73,"./me.js":73,"./mi":74,"./mi.js":74,"./mk":75,"./mk.js":75,"./ml":76,"./ml.js":76,"./mr":77,"./mr.js":77,"./ms":78,"./ms-my":79,"./ms-my.js":79,"./ms.js":78,"./mt":80,"./mt.js":80,"./my":81,"./my.js":81,"./nb":82,"./nb.js":82,"./ne":83,"./ne.js":83,"./nl":84,"./nl-be":85,"./nl-be.js":85,"./nl.js":84,"./nn":86,"./nn.js":86,"./pa-in":87,"./pa-in.js":87,"./pl":88,"./pl.js":88,"./pt":89,"./pt-br":90,"./pt-br.js":90,"./pt.js":89,"./ro":91,"./ro.js":91,"./ru":3,"./ru.js":3,"./sd":92,"./sd.js":92,"./se":93,"./se.js":93,"./si":94,"./si.js":94,"./sk":95,"./sk.js":95,"./sl":96,"./sl.js":96,"./sq":97,"./sq.js":97,"./sr":98,"./sr-cyrl":99,"./sr-cyrl.js":99,"./sr.js":98,"./ss":100,"./ss.js":100,"./sv":101,"./sv.js":101,"./sw":102,"./sw.js":102,"./ta":103,"./ta.js":103,"./te":104,"./te.js":104,"./tet":105,"./tet.js":105,"./th":106,"./th.js":106,"./tl-ph":107,"./tl-ph.js":107,"./tlh":108,"./tlh.js":108,"./tr":109,"./tr.js":109,"./tzl":110,"./tzl.js":110,"./tzm":111,"./tzm-latn":112,"./tzm-latn.js":112,"./tzm.js":111,"./uk":113,"./uk.js":113,"./ur":114,"./ur.js":114,"./uz":115,"./uz-latn":116,"./uz-latn.js":116,"./uz.js":115,"./vi":117,"./vi.js":117,"./x-pseudo":118,"./x-pseudo.js":118,"./yo":119,"./yo.js":119,"./zh-cn":120,"./zh-cn.js":120,"./zh-hk":121,"./zh-hk.js":121,"./zh-tw":122,"./zh-tw.js":122};n.keys=function(){return Object.keys(r)},n.resolve=o,t.exports=n,n.id=141},143:function(t,e){},145:function(t,e){},146:function(t,e,s){"use strict";function n(t){s(147)}Object.defineProperty(e,"__esModule",{value:!0});var o=s(123),r=s(148),a=s(124),i=n,u=a(o.a,r.a,!1,i,null,null);e.default=u.exports},147:function(t,e){},148:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-layout",{ref:"layout",attrs:{view:"lHh Lpr fff","left-class":{"bg-grey-2":!0}}},[s("q-toolbar",{staticClass:"glossy",attrs:{slot:"header"},slot:"header"},[s("q-btn",{attrs:{flat:""},on:{click:function(e){t.$refs.layout.toggleLeft()}}},[s("q-icon",{attrs:{name:"menu"}})],1),t._v(" "),s("q-toolbar-title",[t._v("\n\t\t\tВымпел\n\t\t\t"),s("div",{attrs:{slot:"subtitle"},slot:"subtitle"})])],1),t._v(" "),s("div",{attrs:{slot:"left"},slot:"left"},[s("q-list",{attrs:{"no-border":"",link:"","inset-delimiter":""}},[s("q-list-header",[t._v("Новости")]),t._v(" "),s("q-item",{on:{click:function(e){t.sortNews("week")}}},[s("q-item-side",{attrs:{icon:"sort"}}),t._v(" "),s("q-item-main",{attrs:{label:"За неделю"}})],1),t._v(" "),s("q-item",{on:{click:function(e){t.sortNews("month")}}},[s("q-item-side",{attrs:{icon:"sort"}}),t._v(" "),s("q-item-main",{attrs:{label:"За месяц"}})],1),t._v(" "),s("q-item",{on:{click:function(e){t.sortNews("year")}}},[s("q-item-side",{attrs:{icon:"sort"}}),t._v(" "),s("q-item-main",{attrs:{label:"За год"}})],1),t._v(" "),s("q-item",{on:{click:function(e){t.sortNews("favorite")}}},[s("q-item-side",{attrs:{icon:"star"}}),t._v(" "),s("q-item-main",{attrs:{label:"Избранное"}})],1)],1)],1),t._v(" "),s("div",[s("router-view")],1)],1)},o=[],r={render:n,staticRenderFns:o};e.a=r}},[127]);